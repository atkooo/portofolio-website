/* ============================
   1. IMPORTS & FONTS
============================ */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================
   2. BASE STYLES
============================ */
@layer base {
  :root {
    --font-primary: "Poppins", sans-serif;
    --transition-standard: 300ms;
    --transition-slow: 500ms;
  }
  html {
    scroll-behavior: smooth;
    font-family: var(--font-primary);
    @apply overflow-x-hidden;
  }

  body {
    @apply bg-primary-white dark:bg-primary-black 
           text-primary-black dark:text-primary-white;
  }
  section {
    @apply scroll-mt-5 md:scroll-mt-6;
  }
}

/* ============================
   3. COMPONENT STYLES
============================ */
@layer components {
  /* Navigation */
  .nav {
    @apply fixed top-0 left-0 z-40 
         w-full h-16 md:h-20
         bg-white/90 dark:bg-primary-gray/90
         backdrop-blur-sm;
  }
  /* Base Tech Badge */
  .tech-badge {
    @apply px-4 py-2 rounded-full text-sm font-medium
           flex items-center gap-2
           cursor-default
           transition-all duration-300
           hover:shadow-md;
  }

  /* Flutter */
  .tech-badge-flutter {
    @apply bg-blue-100 dark:bg-blue-900/30
           text-blue-600 dark:text-blue-400
           hover:bg-blue-200 dark:hover:bg-blue-800/40;
  }

  /* Dart */
  .tech-badge-dart {
    @apply bg-indigo-100 dark:bg-indigo-900/30
           text-indigo-600 dark:text-indigo-400
           hover:bg-indigo-200 dark:hover:bg-indigo-800/40;
  }

  /* Firebase */
  .tech-badge-firebase {
    @apply bg-yellow-100 dark:bg-yellow-900/30
           text-yellow-600 dark:text-yellow-400
           hover:bg-yellow-200 dark:hover:bg-yellow-800/40;
  }

  /* Node.js */
  .tech-badge-node {
    @apply bg-green-100 dark:bg-green-900/30
           text-green-600 dark:text-green-400
           hover:bg-green-200 dark:hover:bg-green-800/40;
  }

  /* Python */
  .tech-badge-python {
    @apply bg-blue-100 dark:bg-blue-900/30
           text-blue-600 dark:text-blue-400
           hover:bg-blue-200 dark:hover:bg-blue-800/40;
  }
  .timeline-dot {
    @apply w-4 h-4 rounded-full bg-primary
           ring-4 ring-white/50 dark:ring-gray-800/50
           transition-all duration-300
           group-hover:scale-125 group-hover:rotate-45;
  }

  .timeline-dot-active {
    @apply bg-green-500 
           ring-4 ring-green-200 dark:ring-green-900/50
           animate-pulse;
  }
  .tech-badge-react {
    @apply bg-blue-100 dark:bg-blue-900/30 
           text-blue-600 dark:text-blue-400
           hover:bg-blue-200 dark:hover:bg-blue-800/40;
    animation-delay: 0s;
  }

  .tech-badge-node {
    @apply bg-green-100 dark:bg-green-900/30
           text-green-600 dark:text-green-400
           hover:bg-green-200 dark:hover:bg-green-800/40;
    animation-delay: 0.2s;
  }

  .tech-badge-ts {
    @apply bg-purple-100 dark:bg-purple-900/30
           text-purple-600 dark:text-purple-400
           hover:bg-purple-200 dark:hover:bg-purple-800/40;
    animation-delay: 0.4s;
  }

  .tech-badge-project {
    @apply bg-purple-100 dark:bg-purple-900/30
           text-purple-600 dark:text-purple-400
           hover:bg-purple-200 dark:hover:bg-purple-800/40;
  }

  .tech-badge-team {
    @apply bg-green-100 dark:bg-green-900/30
           text-green-600 dark:text-green-400
           hover:bg-green-200 dark:hover:bg-green-800/40;
  }

  .tech-badge-innovation {
    @apply bg-blue-100 dark:bg-blue-900/30
           text-blue-600 dark:text-blue-400
           hover:bg-blue-200 dark:hover:bg-blue-800/40;
  }

  .tech-badge-network {
    @apply bg-red-100 dark:bg-red-900/30
           text-red-600 dark:text-red-400
           hover:bg-red-200 dark:hover:bg-red-800/40;
  }

  .tech-badge-infrastructure {
    @apply bg-yellow-100 dark:bg-yellow-900/30
           text-yellow-600 dark:text-yellow-400
           hover:bg-yellow-200 dark:hover:bg-yellow-800/40;
  }

  .tech-badge-security {
    @apply bg-orange-100 dark:bg-orange-900/30
           text-orange-600 dark:text-orange-400
           hover:bg-orange-200 dark:hover:bg-orange-800/40;
  }

  .tech-badge-leadership {
    @apply bg-indigo-100 dark:bg-indigo-900/30
           text-indigo-600 dark:text-indigo-400
           hover:bg-indigo-200 dark:hover:bg-indigo-800/40;
  }

  .tech-badge-management {
    @apply bg-pink-100 dark:bg-pink-900/30
           text-pink-600 dark:text-pink-400
           hover:bg-pink-200 dark:hover:bg-pink-800/40;
  }

  .tech-badge-speaking {
    @apply bg-teal-100 dark:bg-teal-900/30
           text-teal-600 dark:text-teal-400
           hover:bg-teal-200 dark:hover:bg-teal-800/40;
  }

  .social-links {
    @apply flex items-center gap-4;
  }
  .social-link {
    @apply interactive-base
         flex items-center justify-center
         w-10 h-10 rounded-lg
         bg-white/10 dark:bg-primary-gray/30
         text-primary-black dark:text-primary-white
         hover:bg-primary hover:text-primary-white
         dark:hover:bg-primary dark:hover:text-primary-white
         dark:hover:shadow-[0_0_15px_#00ADB5]
         hover:scale-110 hover:rotate-6
         transform-gpu
         border border-transparent
         dark:border-primary-gray/50
         dark:hover:border-primary;
  }
  .skill-progress {
    @apply relative mb-6;
  }

  .progress-bar {
    @apply h-2 rounded-full bg-gradient-to-r from-primary to-blue-500
         dark:from-primary/80 dark:to-blue-500/80
         transition-all duration-1000 ease-out
         w-0;
  }

  .skill-percentage {
    @apply absolute -right-1 top-0 -translate-y-6
         text-sm font-medium text-primary dark:text-primary/90;
  }
  .nav-link-active {
    @apply text-primary dark:text-primary
         relative
         after:absolute after:content-['']
         after:w-full after:h-0.5
         after:bg-primary
         after:-bottom-1 after:left-0;
  }
  .experience-content {
    @apply ml-12 md:ml-16 space-y-3 
           bg-white/70 dark:bg-gray-800/70 
           p-6 rounded-xl shadow-sm 
           hover:shadow-md 
           transition-all duration-300 
           w-full;
  }
  .experience-item {
    @apply relative
           transition-all duration-300
           hover:translate-x-2;
  }
  .experience-timeline {
    @apply relative space-y-8;
  }

  .nav-menus {
    @apply fixed md:static 
         top-[64px] left-0 z-20 
         flex flex-col md:flex-row 
         items-center justify-center
         gap-8 md:gap-12 
         py-8 md:p-0
         w-full md:w-auto 
         /* Updated background to match nav transparency */
         bg-white/90 dark:bg-primary-gray/90
         md:bg-transparent md:dark:bg-transparent
         text-gray-700 dark:text-gray-200
         translate-y-[-150vh] md:translate-y-0
         transition-transform duration-300 ease-in-out
         backdrop-blur-sm md:backdrop-blur-none;
  }

  .nav-link {
    @apply interactive-base 
         text-gray-700 dark:text-gray-200
         hover:text-primary dark:hover:text-primary
         /* Remove background to maintain transparency */
         bg-transparent;
  }

  /* Buttons */
  .filter-btn {
    @apply px-6 py-2 rounded-full border-2 border-primary text-primary 
           hover:bg-primary hover:text-white transition-all duration-300
           focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }

  .filter-btn.active {
    @apply bg-primary text-white;
  }

  .project-card {
    @apply interactive-base bg-white dark:bg-gray-800 
           rounded-xl overflow-hidden shadow-lg transition-all duration-300 ease-in-out;
  }

  .contact-card {
    @apply bg-white/50 dark:bg-gray-800/50
           backdrop-blur-sm rounded-xl shadow-lg
           hover:shadow-xl
           transition-all duration-300;
  }

  /* Tags */
  .tech-tag {
    @apply px-3 py-1 bg-primary/10 text-primary rounded-full text-sm;
  }

  /* Main Content */
  .main-content {
    @apply pt-16 md:pt-20;
  }

  .interactive-base {
    @apply transition-all duration-300;
  }

  .card-base {
    @apply bg-white/50 dark:bg-gray-800/50
           backdrop-blur-sm rounded-xl shadow-lg
           hover:shadow-xl
           transition-all duration-300;
  }

  .btn-base {
    @apply px-6 py-3 rounded-xl
           transition-all duration-300
           transform hover:-translate-y-0.5;
  }

  .btn-primary {
    @apply btn-base
           bg-primary text-white
           hover:bg-primary/90;
  }

  .input-base {
    @apply w-full px-4 py-3 
           bg-gray-100 dark:bg-gray-700 rounded-xl
           border-2 border-transparent
           focus:border-primary focus:ring-2 focus:ring-primary/20
           transition-all duration-300;
  }
}

/* ============================
   4. ANIMATIONS
============================ */
@layer utilities {
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 20s linear infinite;
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  /* Animation Delays */
  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* Typewriter Animation */
  .typewriter .cursor {
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  [data-aos="fade-up"] {
    @apply opacity-0 translate-y-10;
  }

  [data-aos="fade-up"].aos-animate {
    @apply opacity-100 translate-y-0;
  }

  /* Keyframes untuk shimmer loading */
  @keyframes shimmer {
    from {
      background-position: -1000px 0;
    }
    to {
      background-position: 1000px 0;
    }
  }

  .overlay {
    @apply absolute inset-0 bg-primary/90 flex items-center justify-center gap-4 
           opacity-0 group-hover:opacity-100 transition-opacity duration-300;
  }

  .project-btn {
    @apply px-4 py-2 bg-white text-primary rounded-full flex items-center gap-2 
           hover:bg-gray-100 transition-colors duration-300;
  }

  @keyframes social-float {
    0% {
      transform: translateY(0) rotate(0);
    }
    50% {
      transform: translateY(-5px) rotate(3deg);
    }
    100% {
      transform: translateY(0) rotate(0);
    }
  }

  .animate-social {
    animation: social-float 3s ease-in-out infinite;
  }

  /* Update bubble animation for smoother movement */
  @keyframes float-bubble {
    0% {
      transform: translate(0px, 0px) scale(1);
      opacity: 0.5;
    }
    50% {
      transform: translate(30px, -30px) scale(1.05);
      opacity: 0.7;
    }
    100% {
      transform: translate(0px, 0px) scale(1);
      opacity: 0.5;
    }
  }
  @keyframes float {
    0%,
    100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-10px) scale(1.05);
    }
  }

  .bubble-effect {
    @apply opacity-70 dark:opacity-40;
    filter: blur(40px);
  }

  .animate-bubble {
    animation: float-bubble 8s ease-in-out infinite;
  }

  .animate-bubble-delay-2 {
    animation: float-bubble 10s ease-in-out infinite;
    animation-delay: 2s;
  }
  .animate-bubble-delay-4 {
    animation: float-bubble 12s ease-in-out infinite;
    animation-delay: 4s;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .delay-2 {
    animation-delay: 2s;
  }
  .delay-4 {
    animation-delay: 4s;
  }

  /* Timeline animations */
  .timeline-item {
    @apply transition-all duration-300 hover:translate-x-2;
  }
  .timeline-connector {
    @apply absolute left-6 md:left-8 top-0 h-full w-0.5 
           bg-gradient-to-b from-primary via-blue-400 to-blue-500/50;
  }

  .timeline-item:hover .timeline-dot {
    @apply scale-125 rotate-12;
  }

  .tech-badge:hover {
    animation-play-state: running;
  }
  .timeline-fade {
    @apply transition-all duration-300
           opacity-0 translate-x-4;
  }

  .timeline-fade.active {
    @apply opacity-100 translate-x-0;
  }
}
